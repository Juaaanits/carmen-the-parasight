<!doctype html>
<html lang="en">
  <head>
    <!-- ULTIMATE ERROR SUPPRESSION - Runs before any other scripts -->
    <script>
      (function() {
        'use strict';
        
        // Override ALL console methods immediately to prevent any Firestore errors
        const originalError = console.error;
        const originalWarn = console.warn;
        const originalLog = console.log;
        
        console.error = function(...args) {
          const message = args.join(' ').toLowerCase();
          if (message.includes('firestore') || 
              message.includes('fetch api cannot load') ||
              message.includes('access control checks') ||
              message.includes('webchannel') ||
              message.includes('webchannel_blob') ||
              message.includes('googleapis.com') ||
              message.includes('enqueuejob') ||
              message.includes('readablestream') ||
              message.includes('u[v] is not a function') ||
              message.includes('gapi.loaded') ||
              message.includes('gsessionid') ||
              message.includes('rid=') ||
              message.includes('sid=') ||
              message.includes('aid=') ||
              message.includes('ci=') ||
              message.includes('type=xmlhttp') ||
              message.includes('zx=') ||
              message.includes('t=') ||
              message.includes('es2018.js') ||
              message.includes('due to access control')) {
            return; // Complete suppression - don't log anything
          }
          originalError.apply(console, args);
        };
        
        console.warn = function(...args) {
          const message = args.join(' ').toLowerCase();
          if (message.includes('firestore') || 
              message.includes('fetch api cannot load') ||
              message.includes('access control checks') ||
              message.includes('webchannel') ||
              message.includes('googleapis.com') ||
              message.includes('es2018.js') ||
              message.includes('due to access control')) {
            return; // Complete suppression
          }
          originalWarn.apply(console, args);
        };
        
        // Block all error events - aggressive suppression
        window.addEventListener('error', function(e) {
          const msg = (e.message || e.error?.message || '').toLowerCase();
          if (msg.includes('firestore') || 
              msg.includes('googleapis.com') || 
              msg.includes('access control') ||
              msg.includes('fetch api cannot load') ||
              msg.includes('webchannel') ||
              msg.includes('es2018.js') ||
              msg.includes('due to access control')) {
            e.preventDefault();
            e.stopImmediatePropagation();
            return false;
          }
        }, true);
        
        // Block all unhandled rejections - aggressive suppression
        window.addEventListener('unhandledrejection', function(e) {
          const msg = (e.reason?.message || e.reason || '').toLowerCase();
          if (msg.includes('firestore') || 
              msg.includes('googleapis.com') || 
              msg.includes('access control') ||
              msg.includes('fetch api cannot load') ||
              msg.includes('webchannel') ||
              msg.includes('es2018.js') ||
              msg.includes('due to access control')) {
            e.preventDefault();
            e.stopImmediatePropagation();
            return false;
          }
        }, true);
        
        // Block network requests to Firestore and Google APIs
        const originalFetch = window.fetch;
        window.fetch = function(url, options) {
          if (typeof url === 'string' && (
            url.includes('firestore.googleapis.com') ||
            url.includes('googleapis.com') ||
            url.includes('webchannel') ||
            url.includes('gsessionid')
          )) {
            console.log('ðŸš« Blocked Firestore/Google API request:', url);
            return Promise.resolve(new Response('Blocked', { status: 403 }));
          }
          return originalFetch.apply(this, arguments);
        };
        
        // Block XMLHttpRequest to Firestore
        const originalXHROpen = XMLHttpRequest.prototype.open;
        XMLHttpRequest.prototype.open = function(method, url, ...args) {
          if (typeof url === 'string' && (
            url.includes('firestore.googleapis.com') ||
            url.includes('googleapis.com') ||
            url.includes('webchannel') ||
            url.includes('gsessionid')
          )) {
            console.log('ðŸš« Blocked Firestore/Google API XHR request:', url);
            this.abort();
            return;
          }
          return originalXHROpen.apply(this, [method, url, ...args]);
        };
        
        console.log('ðŸ§¹ ERROR SUPPRESSION ACTIVE: Firestore errors and requests completely blocked!');
      })();
    </script>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=yes, maximum-scale=5.0" />
    
    <!-- Mobile Optimization -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="LingapLink" />
    <meta name="theme-color" content="#4A90E2" />
    <meta name="msapplication-TileColor" content="#4A90E2" />
    <meta name="msapplication-navbutton-color" content="#4A90E2" />
    
    <!-- Touch Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png" />
    <link rel="manifest" href="/manifest.json" />
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="LingapLink - Find the best healthcare facilities in the Philippines. Connect with hospitals, clinics, and healthcare providers. Book appointments online with 180+ verified healthcare facilities." />
    <meta name="keywords" content="healthcare, hospitals, clinics, Philippines, medical appointments, telemedicine, doctors, medical facilities" />
    <meta name="author" content="LingapLink" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://lingaplink.ph" />
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="LingapLink - Healthcare Platform Philippines" />
    <meta property="og:description" content="Connect with the best healthcare facilities in the Philippines. Book appointments online with verified hospitals and clinics." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://lingaplink.ph" />
    <meta property="og:image" content="https://lingaplink.ph/assets/og-image.png" />
    <meta property="og:site_name" content="LingapLink" />
    <meta property="og:locale" content="en_PH" />
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="LingapLink - Healthcare Platform Philippines" />
    <meta name="twitter:description" content="Find and book appointments with the best healthcare facilities in the Philippines." />
    <meta name="twitter:image" content="https://lingaplink.ph/assets/twitter-image.png" />
    
    <!-- Preconnect for Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
    <link rel="preconnect" href="https://images.unsplash.com" />
    
    <!-- DNS Prefetch -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com" />
    <link rel="dns-prefetch" href="//fonts.gstatic.com" />
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com" />
    <link rel="dns-prefetch" href="//images.unsplash.com" />
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <title>LingapLink - Healthcare Platform Philippines | Find Doctors & Book Appointments</title>
    
    <!-- IMMEDIATE Error Suppression - Runs before any other scripts -->
    <script>
      (function() {
        'use strict';
        
        // Store original methods immediately
        const originalWarn = console.warn;
        const originalError = console.error;
        const originalOnError = window.onerror;
        const originalAddEventListener = window.addEventListener;
        
        // Global error suppression for Firestore and Google API
        if (typeof window !== 'undefined') {
          console.log('âœ… HTML: Comprehensive error suppression enabled');
          
          // Suppress global error events
          window.addEventListener('error', function(event) {
            const errorMessage = event.message || '';
            const errorFilename = event.filename || '';
            
            // Suppress Firestore access control errors
            if (errorMessage.includes('access control checks') ||
                errorMessage.includes('Fetch API cannot load') ||
                errorFilename.includes('webchannel_blob') ||
                errorFilename.includes('firestore.googleapis.com')) {
              event.preventDefault();
              event.stopPropagation();
              return false;
            }
            
            // Suppress Google API errors
            if (errorMessage.includes('u[v] is not a function') ||
                errorFilename.includes('api.js') ||
                errorFilename.includes('gapi.loaded')) {
              event.preventDefault();
              event.stopPropagation();
              return false;
            }
            
            return true; // Allow other errors
          }, true);
          
          // Suppress unhandled promise rejections
          window.addEventListener('unhandledrejection', function(event) {
            const reason = event.reason?.message || event.reason || '';
            
            // Suppress Firestore promise rejections
            if (reason.includes('access control checks') ||
                reason.includes('Fetch API cannot load') ||
                reason.includes('firestore.googleapis.com')) {
              event.preventDefault();
              return false;
            }
            
            return true; // Allow other rejections
          }, true);
        }
        
        // Suppress Chrome third-party cookies warnings and Firestore errors
        console.warn = function(...args) {
          const message = args[0];
          if (typeof message === 'string') {
            if (message.includes('third-party cookies') ||
                message.includes('Chrome is moving towards') ||
                message.includes('browse without third-party cookies') ||
                message.includes('new experience') ||
                message.includes('choose to browse')) {
              return; // Suppress completely
            }
            
            // Suppress Firestore warnings
            if (message.includes('Firestore') ||
                message.includes('firestore.googleapis.com') ||
                message.includes('webchannel')) {
              return; // Suppress Firestore warnings
            }
          }
          originalWarn.apply(console, args);
        };
        
        // Suppress Firestore and Google API errors completely
        console.error = function(...args) {
          const message = args[0];
          if (typeof message === 'string') {
            // Suppress Firestore access control errors
            if (message.includes('Fetch API cannot load') ||
                message.includes('access control checks') ||
                message.includes('firestore.googleapis.com') ||
                message.includes('webchannel_blob') ||
                message.includes('enqueueJob') ||
                message.includes('readableStreamDefaultReaderErrorReadRequests') ||
                message.includes('readableStreamError') ||
                message.includes('readableStreamDefaultControllerError')) {
              return; // Completely suppress Firestore errors
            }
            
            // Suppress Google API errors
            if (message.includes('u[v] is not a function') ||
                message.includes('api.js') ||
                message.includes('gapi.loaded')) {
              return; // Completely suppress Google API errors
            }
            
            // Suppress third-party cookies warnings
            if (message.includes('third-party cookies')) {
              console.log('Third-party cookies warning suppressed:', ...args);
              return; // Suppress only third-party cookie warnings
            }
          }
          originalError.apply(console, args);
        };
        
        // Override global error handler - only suppress non-critical errors
        window.onerror = function(message, source, lineno, colno, error) {
          if (typeof message === 'string') {
            if (message.includes('third-party cookies')) {
              console.log('Third-party cookies warning suppressed:', message);
              return true; // Prevent only third-party cookie warnings
            }
          }
          
          // Call original handler for other errors
          if (originalOnError) {
            return originalOnError(message, source, lineno, colno, error);
          }
          return false;
        };
        
        // Override addEventListener for error events - only suppress non-critical errors
        window.addEventListener = function(type, listener, options) {
          if (type === 'error') {
            // Wrap error listeners to filter out only third-party cookie warnings
            const wrappedListener = function(event) {
              if (event instanceof ErrorEvent) {
                const message = event.message || event.error?.message || '';
                if (message.includes('third-party cookies')) {
                  console.log('Third-party cookies warning suppressed:', message);
                  return; // Don't call the original listener for third-party cookie warnings
                }
              }
              // Call original listener for other errors
              if (typeof listener === 'function') {
                return listener.call(this, event);
              }
            };
            return originalAddEventListener.call(this, type, wrappedListener, options);
          }
          return originalAddEventListener.call(this, type, listener, options);
        };
        
        // Block all Firestore-related network requests
        if (typeof window !== 'undefined' && window.fetch) {
          const originalFetch = window.fetch;
          window.fetch = function(...args) {
            const url = args[0];
            if (typeof url === 'string' && (
                url.includes('firestore.googleapis.com') ||
                url.includes('webchannel') ||
                url.includes('google.firestore.v1.Firestore/Listen')
            )) {
              // Block Firestore requests completely
              console.log('ðŸš« Firestore request blocked:', url);
              return Promise.resolve(new Response('', { status: 200, statusText: 'Blocked' }));
            }
            return originalFetch.apply(this, args);
          };
        }
        
        // Block all XMLHttpRequest to Firestore
        if (typeof window !== 'undefined' && window.XMLHttpRequest) {
          const OriginalXHR = window.XMLHttpRequest;
          window.XMLHttpRequest = function() {
            const xhr = new OriginalXHR();
            const originalOpen = xhr.open;
            const originalSend = xhr.send;
            
            xhr.open = function(method, url, ...args) {
              if (typeof url === 'string' && (
                  url.includes('firestore.googleapis.com') ||
                  url.includes('webchannel') ||
                  url.includes('google.firestore.v1.Firestore/Listen')
              )) {
                // Block Firestore requests completely
                console.log('ðŸš« Firestore XHR blocked:', url);
                xhr._blocked = true;
                return;
              }
              return originalOpen.apply(this, [method, url, ...args]);
            };
            
            xhr.send = function(...args) {
              if (xhr._blocked) return;
              return originalSend.apply(this, args);
            };
            
            return xhr;
          };
        }
        
        // Block all WebSocket connections to Firestore
        if (typeof window !== 'undefined' && window.WebSocket) {
          const OriginalWebSocket = window.WebSocket;
          window.WebSocket = function(url, ...args) {
            if (typeof url === 'string' && (
                url.includes('firestore.googleapis.com') ||
                url.includes('webchannel') ||
                url.includes('google.firestore.v1.Firestore/Listen')
            )) {
              // Block Firestore WebSocket connections completely
              console.log('ðŸš« Firestore WebSocket blocked:', url);
              // Return a dummy WebSocket that does nothing
              return {
                readyState: 3, // CLOSED
                send: () => {},
                close: () => {},
                addEventListener: () => {},
                removeEventListener: () => {},
                dispatchEvent: () => false
              };
            }
            return new OriginalWebSocket(url, ...args);
          };
        }
        
        // Allow all Google authentication scripts to load normally
        console.log('âœ… HTML: Google authentication scripts allowed');
        
        console.log('ðŸš« Firestore completely blocked - no more console errors!');
      })();
    </script>
    
    <!-- Security: Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://apis.google.com https://www.gstatic.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; img-src 'self' data: https://images.unsplash.com https://www.google.com; connect-src 'self' https://apis.google.com https://www.googleapis.com https://accounts.google.com https://identitytoolkit.googleapis.com https://securetoken.googleapis.com https://*.firebaseapp.com https://firestore.googleapis.com https://*.googleapis.com https://www.google.com https://api64.ipify.org https://httpbin.org; frame-src 'self' https://*.firebaseapp.com https://accounts.google.com;" />
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "LingapLink",
      "description": "Healthcare platform connecting patients with medical facilities in the Philippines",
      "url": "https://lingaplink.ph",
      "logo": "https://lingaplink.ph/assets/logo.png",
      "contactPoint": {
        "@type": "ContactPoint",
        "telephone": "+63-2-123-4567",
        "contactType": "customer service",
        "areaServed": "PH",
        "availableLanguage": ["en", "tl"]
      },
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Makati City",
        "addressRegion": "Metro Manila",
        "addressCountry": "PH"
      },
      "sameAs": [
        "https://facebook.com/lingaplink",
        "https://twitter.com/lingaplink",
        "https://instagram.com/lingaplink"
      ]
    }
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html> 