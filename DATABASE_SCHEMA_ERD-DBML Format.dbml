Table users {
  uid varchar [pk]
  email varchar
  displayName varchar
  role varchar
  organizationId varchar
  personalInfo json
  permissions json
  createdAt timestamp
  lastLogin timestamp
  isActive boolean
  emailVerified boolean
}

Table patients {
  uid varchar [pk]
  email varchar
  role varchar
  personalInfo json
  medicalInfo json
  settings json
  activity json
  profileComplete boolean
  organizationId varchar
  createdAt timestamp
  lastLoginAt timestamp
  updatedAt timestamp
  isActive boolean
  emailVerified boolean
  authProvider varchar
}

Table organizations {
  id varchar [pk]
  name varchar
  type varchar
  description varchar
  address json
  contact json
  license json
  settings json
  subscription json
  stats json
  adminUserId varchar
  createdAt timestamp
  updatedAt timestamp
  isActive boolean
}

Table staff_invitations {
  id varchar [pk]
  organizationId varchar
  organizationName varchar
  email varchar
  role varchar
  firstName varchar
  lastName varchar
  title varchar
  department varchar
  permissions json
  invitedBy varchar
  createdAt timestamp
  expiresAt timestamp
  status varchar
}

Table medical_records {
  recordId varchar [pk]
  patientId varchar
  doctorId varchar
  consultationId varchar
  diagnosis varchar
  treatment varchar
  prescriptions json
  notes varchar
  createdAt timestamp
  updatedAt timestamp
}

Table notifications {
  notificationId varchar [pk]
  recipientId varchar
  senderId varchar
  type varchar
  title varchar
  message varchar
  priority varchar
  isRead boolean
  createdAt timestamp
  expiresAt timestamp
}

Table audit_logs {
  logId varchar [pk]
  userId varchar
  action varchar
  resource varchar
  details json
  ipAddress varchar
  userAgent varchar
  timestamp timestamp
  severity varchar
}

Table organization_reports {
  reportId varchar [pk]
  organizationId varchar
  reportType varchar
  data json
  generatedAt timestamp
  createdBy varchar
  createdAt timestamp
}

// Subcollections as separate tables
Table conditions {
  conditionId varchar [pk]
  patientId varchar
  category varchar
  condition varchar
  severity varchar
  diagnosisDate timestamp
  notes varchar
  createdAt timestamp
}

Table documents {
  documentId varchar [pk]
  patientId varchar
  name varchar
  type varchar
  url varchar
  size int
  uploadDate timestamp
  createdAt timestamp
}

Table consultations {
  consultationId varchar [pk]
  patientId varchar
  date timestamp
  doctor varchar
  type varchar
  status varchar
  notes varchar
  createdAt timestamp
}

Table appointments {
  appointmentId varchar [pk]
  patientId varchar
  date varchar
  time varchar
  doctor varchar
  type varchar
  status varchar
  notes varchar
  createdAt timestamp
}

// Relationships
Ref: users.uid < patients.uid
Ref: users.organizationId < organizations.id
Ref: organizations.id < staff_invitations.organizationId
Ref: patients.uid < conditions.patientId
Ref: patients.uid < documents.patientId
Ref: patients.uid < consultations.patientId
Ref: patients.uid < appointments.patientId
Ref: patients.uid < medical_records.patientId
Ref: users.uid < notifications.recipientId
Ref: users.uid < audit_logs.userId
Ref: organizations.id < organization_reports.organizationId 